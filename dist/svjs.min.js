class t{cursorX=null;cursorY=null;child=null;constructor(t="svg",e="http://www.w3.org/2000/svg"){this.element=document.createElementNS(e,t),this.#t(),"svg"===this.element.nodeName&&this.element.setAttribute("xmlns",e)}addEventListener(t,e,n){return this.element.addEventListener(t,e,n),this}addTo(t){return t.appendChild(this.element),this}animate(t,e){return this.element.animate(t,e),this}content(t){return this.element.innerHTML=t,this}create(e){if(this.child=new t(e),"defs"===e){const t=this.#e();this.child&&(this.child.element=t)}else this.child&&this.element.appendChild(this.child.element);return this.child}createCurve(e,n=1){const r=new t("path"),s=e.flat();let i=`M ${[s[0],s[1]]}`;for(let t=0;t<s.length-2;t+=2){const e=t?s[t-2]:s[0],r=t?s[t-1]:s[1],a=s[t],h=s[t+1],o=s[t+2],l=s[t+3];i+=`C ${[a+(o-e)/6*n,h+(l-r)/6*n,o-((t!==s.length-4?s[t+4]:o)-a)/6*n,l-((t!==s.length-4?s[t+5]:l)-h)/6*n,o,l]}`}return r.set({d:i,stroke:"#888",fill:"none"}),this.element.appendChild(r.element),r}createFilter(e){this.#n();const n=new t("filter");n.set({id:e,x:"-25%",y:"-25%",width:"150%",height:"150%",filterUnits:"userSpaceOnUse",color_interpolation_filters:"sRGB"});return this.#e().appendChild(n.element),n}createGradient(e,n,r,s=45){this.#n();const i=new t(`${n}Gradient`);i.set({id:e}),"linear"===n&&i.set({gradientTransform:`rotate(${s})`});for(let t=0;t<r.length;t+=1)i.child&&i.child.set({stop_color:r[t],offset:t*(100/(r.length-1))/100});return this.#e().appendChild(i.element),i}createPattern(e,n,r){this.#n();const s=new t("pattern");s.set({id:e,x:0,y:0,width:n,height:r,patternUnits:"userSpaceOnUse"});return this.#e().appendChild(s.element),s}delete(){this.element.remove()}get(t){return this.element.getAttribute(t)}getCentre(){const t=this.element.getBBox();return{x:t.x+t.width/2,y:t.y+t.height/2}}moveTo(t,e){const n=this.getCentre(),r=this.#r();return r.setTranslate(t-n.x,e-n.y),this.#s(r),this}rotate(t,e,n){const r=this.getCentre(),s=this.#r(),i=e??r.x,a=n??r.y;return s.setRotate(t,i,a),this.#s(s),this}save(){const t=prompt("Enter the file name","sketch.svg");if(null!==t){const e=document.createElement("a");e.download=t;const n=this.element.outerHTML,r=new Blob([n],{type:"text/plain;charset=utf-8"});e.href=URL.createObjectURL(r),e.click(),URL.revokeObjectURL(e.href)}}scale(t,e){const n=this.getCentre(),r=this.#r(),s=this.#r(),i=e??t;return r.setTranslate((1-t)*n.x,(1-i)*n.y),s.setScale(t,i),this.#s(r),this.#s(s),this}set(t){for(const[e,n]of Object.entries(t)){const t=e.replace(/_/g,"-");this.element.setAttribute(t,String(n))}return this}trackCursor(t=null){this.#n();let e=new DOMPoint;return this.element.addEventListener("pointermove",(t=>{this.element.style.touchAction="none";const n=t;e.x=n.clientX,e.y=n.clientY;const r=this.element.getScreenCTM();r&&(e=e.matrixTransform(r.inverse()),this.cursorX=Math.ceil(e.x),this.cursorY=Math.ceil(e.y))})),this.element.addEventListener("pointerleave",(()=>{this.element.style.touchAction="auto"})),null!==t&&this.element.addEventListener("pointermove",t),this}#s(t){this.element.transform.baseVal.appendItem(t)}#r(){new t;return document.createElementNS("http://www.w3.org/2000/svg","svg").createSVGTransform()}#e(){let e;const n=document.querySelector("defs");if(n)e=n;else{e=new t("defs").element,this.element.prepend(e)}return e}#n(){if("svg"!==this.element.nodeName)throw new Error("This function can only be called on the main SVG element.")}#t(){if(Object.prototype.toString.call(this.element).toLowerCase()!==`[object svg${this.element.nodeName.toLowerCase()}element]`)throw new Error(`Invalid SVG element: ${this.element.nodeName}`)}}const e={chance:(t=50,e)=>(void 0!==e?e/(t+e)*100:t)>100*Math.random(),constrain:(t,e,n)=>Math.min(Math.max(t,e),n),dist(t,e,n,r){const s=t-n,i=e-r;return Math.sqrt(s*s+i*i)},gaussian(t=0,e=1,n=!0){const r=1-Math.random(),s=Math.random(),i=Math.cos(Math.PI*s)*Math.sqrt(-Math.log(r))*e+t;return n?i:Math.round(i)},interp:(t,e,n=.5)=>n*(e-t)+t,map(t,e,n,r,s,i=!0){const a=(t-e)/(n-e)*(s-r)+r;return i?a:Math.round(a)},pareto(t,e=!0){const n=1-Math.random(),r=Math.log(5)/Math.log(4),s=t/Math.pow(n,1/r);return e?s:Math.round(s)},random(t,e,n){if(Array.isArray(t)){const e=t;return e[Math.round(Math.random()*(e.length-1))]}{const r=t,s=void 0!==e?e:1,i=void 0!==n&&n,a=Math.random()*(s-r)+r;return i||s-r<=1?a:Math.round(a)}}};class n{grad={};cache={};get(t,e=0){const n=`${t},${e}`;if(void 0!==this.cache[n])return this.cache[n];const r=Math.floor(t),s=Math.floor(e),i=this.#i(t,e,r,s),a=this.#i(t,e,r+1,s),h=this.#i(t,e,r,s+1),o=this.#i(t,e,r+1,s+1),l=this.#a(t-r,i,a),c=this.#a(t-r,h,o),d=this.#a(e-s,l,c);return this.cache[n]=d,d}clearCache(){this.cache={}}clearGradients(){this.grad={}}precomputeGradients(t,e,n,r){const s=Math.floor(t),i=Math.ceil(e),a=Math.floor(n),h=Math.ceil(r);for(let t=s;t<=i;t++)for(let e=a;e<=h;e++){const n=`${t},${e}`;if(!this.grad[n]){const t=2*Math.random()*Math.PI;this.grad[n]={x:Math.cos(t),y:Math.sin(t)}}}}#i(t,e,n,r){const s=t-n,i=e-r,a=`${n},${r}`;let h;if(this.grad[a])h=this.grad[a];else{const t=2*Math.random()*Math.PI;h={x:Math.cos(t),y:Math.sin(t)},this.grad[a]=h}return s*h.x+i*h.y}#a(t,e,n){return e+t*t*t*(t*(6*t-15)+10)*(n-e)}}export{t as SvJs,e as Gen,n as Noise};
//# sourceMappingURL=svjs.min.js.map
