{"mappings":"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","sources":["src/sv.ts","src/gen.ts","src/noise.ts"],"sourcesContent":["/**\n * A class to instantiate and manipulate SVG elements with a chainable API.\n */\nexport class SvJs {\n  /** @type {SVGElement | SVGSVGElement | SVGPathElement | SVGGradientElement | SVGPatternElement | SVGFilterElement} */\n  element: SVGElement;\n\n  /** @type {number|null} */\n  cursorX: number | null = null;\n\n  /** @type {number|null} */\n  cursorY: number | null = null;\n\n  /** @type {SvJs|null} */\n  child: SvJs | null = null;\n\n  /**\n   * Create an SVG element.\n   *\n   * @param element - The name of the SVG element to create.\n   * @param namespace - The namespace URL to reference.\n   * @throws {Error} If the created element is not a valid SVG element.\n   */\n  constructor(\n    element: keyof SVGElementTagNameMap | string = \"svg\",\n    namespace: string = \"http://www.w3.org/2000/svg\"\n  ) {\n    this.element = document.createElementNS(namespace, element) as SVGElement;\n\n    this.#isValid();\n\n    if (this.element.nodeName === \"svg\") {\n      this.element.setAttribute(\"xmlns\", namespace);\n    }\n  }\n\n  /**\n   * An alias of the DOM addEventListener method.\n   *\n   * @chainable\n   * @param type - The event type.\n   * @param callback - The callback function.\n   * @returns itself.\n   */\n  addEventListener<K extends keyof SVGElementEventMap>(\n    type: K,\n    callback: (this: SVGElement, ev: SVGElementEventMap[K]) => any,\n    options?: boolean | AddEventListenerOptions\n  ): this;\n  addEventListener(\n    type: string,\n    callback: EventListenerOrEventListenerObject,\n    options?: boolean | AddEventListenerOptions\n  ): this {\n    this.element.addEventListener(type, callback, options);\n    return this;\n  }\n\n  /**\n   * Add the SVG element to the specified node.\n   *\n   * @chainable\n   * @param node - A HTML or SVG parent node.\n   * @returns itself.\n   */\n  addTo(node: Node): this {\n    node.appendChild(this.element);\n    return this;\n  }\n\n  /**\n   * Animate an element using the Web Animations API.\n   *\n   * @chainable\n   * @param keyframes - An array of keyframe objects, or an object of keyframe arrays.\n   * @param options - A single duration, or an object containing timing properties.\n   * @returns itself.\n   */\n  animate(\n    keyframes: Keyframe[] | PropertyIndexedKeyframes,\n    options: number | KeyframeAnimationOptions\n  ): this {\n    this.element.animate(keyframes, options);\n    return this;\n  }\n\n  /**\n   * Inserts content within an element. Useful for textual elements.\n   *\n   * @chainable\n   * @param text - The content to insert.\n   * @returns itself.\n   */\n  content(text: string): this {\n    this.element.innerHTML = text;\n    return this;\n  }\n\n  /**\n   * Create and append an SVG child element.\n   *\n   * @chainable\n   * @param element - The name of the SVG element to create.\n   * @returns The created SVG child element.\n   */\n  create<T extends keyof SVGElementTagNameMap>(\n    element: T\n  ): SvJs & { element: SVGElementTagNameMap[T] } {\n    this.child = new SvJs(element) as any;\n\n    if (element === \"defs\") {\n      const defs = this.#defsCheck();\n      if (this.child) {\n        this.child.element = defs as any;\n      }\n    } else {\n      if (this.child) {\n        this.element.appendChild(this.child.element);\n      }\n    }\n\n    return this.child as any;\n  }\n\n  /**\n   * Creates a smooth, open bezier curve from an array of points.\n   *\n   * @chainable\n   * @param points - A two-dimensional array of [[x,y], [x,y]...] points.\n   * @param curveFactor - 0 means that points are connected by straight lines. Default is 1.\n   * @returns The created path element.\n   */\n  createCurve(points: [number, number][], curveFactor: number = 1): SvJs {\n    const path = new SvJs(\"path\");\n    const flattened = points.flat();\n\n    let pathData = `M ${[flattened[0], flattened[1]]}`;\n\n    for (let i = 0; i < flattened.length - 2; i += 2) {\n      const x0 = i ? flattened[i - 2] : flattened[0];\n      const y0 = i ? flattened[i - 1] : flattened[1];\n\n      const x1 = flattened[i];\n      const y1 = flattened[i + 1];\n\n      const x2 = flattened[i + 2];\n      const y2 = flattened[i + 3];\n\n      const x3 = i !== flattened.length - 4 ? flattened[i + 4] : x2;\n      const y3 = i !== flattened.length - 4 ? flattened[i + 5] : y2;\n\n      const cp1x = x1 + ((x2 - x0) / 6) * curveFactor;\n      const cp1y = y1 + ((y2 - y0) / 6) * curveFactor;\n\n      const cp2x = x2 - ((x3 - x1) / 6) * curveFactor;\n      const cp2y = y2 - ((y3 - y1) / 6) * curveFactor;\n\n      pathData += `C ${[cp1x, cp1y, cp2x, cp2y, x2, y2]}`;\n    }\n\n    path.set({\n      d: pathData,\n      stroke: \"#888\",\n      fill: \"none\",\n    });\n\n    this.element.appendChild(path.element);\n\n    return path;\n  }\n\n  /**\n   * Creates a filter and appends it to the defs element.\n   *\n   * @chainable\n   * @param id - The id. Reference this when applying the filter.\n   * @returns The created filter element.\n   * @throws {Error} If called on a non-main SVG element.\n   */\n  createFilter(id: string): SvJs {\n    this.#isMainSVG();\n\n    const filter = new SvJs(\"filter\");\n    filter.set({\n      id: id,\n      x: \"-25%\",\n      y: \"-25%\",\n      width: \"150%\",\n      height: \"150%\",\n      filterUnits: \"userSpaceOnUse\",\n      color_interpolation_filters: \"sRGB\",\n    });\n\n    const defs = this.#defsCheck();\n    defs.appendChild(filter.element);\n\n    return filter;\n  }\n\n  /**\n   * Creates a gradient and appends it to the defs element.\n   *\n   * @chainable\n   * @param id - The id. Reference this when applying the gradient.\n   * @param type - Accepts 'linear' or 'radial'.\n   * @param colours - An array of gradient colours to be applied equidistantly.\n   * @param rotation - The angle of rotation. Ignored if gradient is radial.\n   * @returns The created gradient element.\n   * @throws {Error} If called on a non-main SVG element.\n   */\n  createGradient(\n    id: string,\n    type: \"linear\" | \"radial\",\n    colours: string[],\n    rotation: number = 45\n  ): SvJs {\n    this.#isMainSVG();\n\n    const gradient = new SvJs(`${type}Gradient`);\n    gradient.set({ id: id });\n\n    if (type === \"linear\") {\n      gradient.set({ gradientTransform: `rotate(${rotation})` });\n    }\n\n    for (let i = 0; i < colours.length; i += 1) {\n      if (gradient.child) {\n        gradient.child.set({\n          stop_color: colours[i],\n          offset: (i * (100 / (colours.length - 1))) / 100,\n        });\n      }\n    }\n\n    const defs = this.#defsCheck();\n    defs.appendChild(gradient.element);\n\n    return gradient;\n  }\n\n  /**\n   * Creates a pattern and appends it to the defs element.\n   *\n   * @chainable\n   * @param id - The id. Reference this when applying the gradient.\n   * @param width - The width of the pattern.\n   * @param height - The height of the pattern.\n   * @returns The created pattern element.\n   * @throws {Error} If called on a non-main SVG element.\n   */\n  createPattern(id: string, width: number, height: number): SvJs {\n    this.#isMainSVG();\n\n    const pattern = new SvJs(\"pattern\");\n    pattern.set({\n      id: id,\n      x: 0,\n      y: 0,\n      width: width,\n      height: height,\n      patternUnits: \"userSpaceOnUse\",\n    });\n\n    const defs = this.#defsCheck();\n    defs.appendChild(pattern.element);\n\n    return pattern;\n  }\n\n  /**\n   * Delete the SVG element.\n   */\n  delete(): void {\n    this.element.remove();\n  }\n\n  /**\n   * Get a given attribute's value.\n   *\n   * @param attribute - The attribute name.\n   * @returns The attribute value or null.\n   */\n  get(attribute: string): string | null {\n    return this.element.getAttribute(attribute);\n  }\n\n  /**\n   * Get a given element's centre { x, y } coordinates.\n   *\n   * @returns The centre.x and centre.y coordinates.\n   */\n  getCentre(): { x: number; y: number } {\n    // Cast to SVGGraphicsElement which has getBBox()\n    const graphicsElement = this.element as unknown as SVGGraphicsElement;\n    const bbox = graphicsElement.getBBox();\n    const cx = bbox.x + bbox.width / 2;\n    const cy = bbox.y + bbox.height / 2;\n    return { x: cx, y: cy };\n  }\n\n  /**\n   * Move an element to a desired position with respect to its centre.\n   *\n   * @chainable\n   * @param x - The target x coordinate.\n   * @param y - The target y coordinate.\n   * @returns itself.\n   */\n  moveTo(x: number, y: number): this {\n    const c = this.getCentre();\n    const t = this.#createTransform();\n\n    t.setTranslate(x - c.x, y - c.y);\n\n    this.#addTransform(t);\n\n    return this;\n  }\n\n  /**\n   * Rotate an element around a specified origin point (the element centre by default).\n   *\n   * @chainable\n   * @param angle - The angle of rotation.\n   * @param cx - The origin x coordinate.\n   * @param cy - The origin y coordinate.\n   * @returns itself.\n   */\n  rotate(angle: number, cx?: number, cy?: number): this {\n    const c = this.getCentre();\n    const t = this.#createTransform();\n    const originX = cx ?? c.x;\n    const originY = cy ?? c.y;\n\n    t.setRotate(angle, originX, originY);\n\n    this.#addTransform(t);\n\n    return this;\n  }\n\n  /**\n   * Saves and downloads the SVG markup.\n   */\n  save(): void {\n    const name = prompt(\"Enter the file name\", \"sketch.svg\");\n    if (name !== null) {\n      const a = document.createElement(\"a\");\n      a.download = name;\n      const data = this.element.outerHTML;\n      const file = new Blob([data], { type: \"text/plain;charset=utf-8\" });\n      a.href = URL.createObjectURL(file);\n      a.click();\n      URL.revokeObjectURL(a.href);\n    }\n  }\n\n  /**\n   * Scale an element by a desired proportion.\n   *\n   * @chainable\n   * @param sx - The amount to scale on the x-axis.\n   * @param sy - The amount to scale on the y-axis. Defaults to sx if not supplied.\n   * @returns itself.\n   */\n  scale(sx: number, sy?: number): this {\n    const c = this.getCentre();\n    const t1 = this.#createTransform();\n    const t2 = this.#createTransform();\n\n    const scaleY = sy ?? sx;\n    t1.setTranslate((1 - sx) * c.x, (1 - scaleY) * c.y);\n    t2.setScale(sx, scaleY);\n\n    this.#addTransform(t1);\n    this.#addTransform(t2);\n\n    return this;\n  }\n\n  /**\n   * Set the attribute values of an SVG element. Replaces _ with - for relevant attributes.\n   *\n   * @chainable\n   * @param attributes - An object of attribute-value pairs.\n   * @returns itself.\n   */\n  set(attributes: Record<string, string | number>): this {\n    for (const [key, value] of Object.entries(attributes)) {\n      const prop = key.replace(/_/g, \"-\");\n      this.element.setAttribute(prop, String(value));\n    }\n    return this;\n  }\n\n  /**\n   * Update the cursorX and cursorY properties on the main SVG element.\n   * Accurate cursor tracking via matrix transformation. Compatible with touch devices.\n   *\n   * @chainable\n   * @param callback - An optional callback function to trigger whenever the cursor moves.\n   * @returns itself.\n   * @throws {Error} If called on a non-main SVG element.\n   */\n  trackCursor(callback: EventListener | null = null): this {\n    this.#isMainSVG();\n\n    let point = new DOMPoint();\n\n    this.element.addEventListener(\"pointermove\", (event: Event) => {\n      this.element.style.touchAction = \"none\";\n      const e = event as PointerEvent;\n      point.x = e.clientX;\n      point.y = e.clientY;\n\n      // Cast to SVGSVGElement for getScreenCTM\n      const svgElement = this.element as unknown as SVGSVGElement;\n      const ctm = svgElement.getScreenCTM();\n      if (ctm) {\n        point = point.matrixTransform(ctm.inverse());\n        this.cursorX = Math.ceil(point.x);\n        this.cursorY = Math.ceil(point.y);\n      }\n    });\n\n    this.element.addEventListener(\"pointerleave\", () => {\n      this.element.style.touchAction = \"auto\";\n    });\n\n    if (callback !== null) {\n      this.element.addEventListener(\"pointermove\", callback);\n    }\n\n    return this;\n  }\n\n  /**\n   * Appends an SVG transform object to a transform list.\n   *\n   * @private\n   * @param transform - An SVGTransform object.\n   */\n  #addTransform(transform: SVGTransform): void {\n    // Cast to SVGGraphicsElement which has transform property\n    const graphicsElement = this.element as unknown as SVGGraphicsElement;\n    const transformList = graphicsElement.transform.baseVal;\n    transformList.appendItem(transform);\n  }\n\n  /**\n   * Allows for the creation of a cumulative transform.\n   *\n   * @private\n   * @returns An SVGTransform object.\n   */\n  #createTransform(): SVGTransform {\n    const root = new SvJs();\n    // Create a temporary SVG element for transform creation\n    const svgNS = \"http://www.w3.org/2000/svg\";\n    const svg = document.createElementNS(svgNS, \"svg\") as SVGSVGElement;\n    return svg.createSVGTransform();\n  }\n\n  /**\n   * Checks if the defs element already exists, and creates it if it doesn't.\n   *\n   * @private\n   * @returns The defs element.\n   */\n  #defsCheck(): SVGDefsElement {\n    let defs: SVGDefsElement;\n    const existingDefs = document.querySelector(\"defs\");\n\n    if (existingDefs) {\n      defs = existingDefs as SVGDefsElement;\n    } else {\n      const newDefs = new SvJs(\"defs\");\n      defs = newDefs.element as SVGDefsElement;\n      this.element.prepend(defs);\n    }\n    return defs;\n  }\n\n  /**\n   * Check if the element is the main SVG element.\n   *\n   * @private\n   * @throws {Error} If the element is not the main SVG.\n   */\n  #isMainSVG(): void {\n    if (this.element.nodeName !== \"svg\") {\n      throw new Error(\n        \"This function can only be called on the main SVG element.\"\n      );\n    }\n  }\n\n  /**\n   * Check if the created SVG element is valid.\n   *\n   * @private\n   * @throws {Error} If the element is not a valid SVG element.\n   */\n  #isValid(): void {\n    const elementToString = Object.prototype.toString\n      .call(this.element)\n      .toLowerCase();\n\n    if (\n      elementToString !==\n      `[object svg${this.element.nodeName.toLowerCase()}element]`\n    ) {\n      throw new Error(`Invalid SVG element: ${this.element.nodeName}`);\n    }\n  }\n}\n","/**\n * A collection of useful functions for generative art.\n */\nexport const Gen = {\n  /**\n   * Return true if the supplied % is higher than a randomised %.\n   * If two arguments supplied, they are interpreted as odds.\n   *\n   * @param n1 - The chance of the return value being true. 50 by default.\n   * @param n2 - If not undefined, both arguments are interpreted as odds in the form n1 to n2.\n   * @returns true or false.\n   */\n  chance(n1: number = 50, n2?: number): boolean {\n    const n = n2 !== undefined ? (n2 / (n1 + n2)) * 100 : n1;\n    return n > Math.random() * 100;\n  },\n\n  /**\n   * Constrains (or clamps) a value between a minimum and maximum value.\n   *\n   * @param num - The number to constrain.\n   * @param min - The minimum limit.\n   * @param max - The maximum limit.\n   * @returns The constrained number.\n   */\n  constrain(num: number, min: number, max: number): number {\n    return Math.min(Math.max(num, min), max);\n  },\n\n  /**\n   * Calculates the distance between two points using the Pythagorean theorem.\n   *\n   * @param x1 - The first x coordinate.\n   * @param y1 - The first y coordinate.\n   * @param x2 - The second x coordinate.\n   * @param y2 - The second y coordinate.\n   * @returns The distance between (x1, y1) and (x2, y2).\n   */\n  dist(x1: number, y1: number, x2: number, y2: number): number {\n    const a = x1 - x2;\n    const b = y1 - y2;\n    return Math.sqrt(a * a + b * b);\n  },\n\n  /**\n   * Gets a random number based on the Box-Muller gaussian transform.\n   * By default, it typically returns results within a range of -3 to +3.\n   *\n   * @param mean - The mean, 0 by default.\n   * @param sigma - Sigma refers to the standard deviation, 1 by default.\n   * @param float - Set to false to return an integer.\n   * @returns The random gaussian.\n   */\n  gaussian(mean: number = 0, sigma: number = 1, float: boolean = true): number {\n    const u = 1 - Math.random();\n    const v = Math.random();\n    const z = Math.cos(Math.PI * v) * Math.sqrt(-Math.log(u));\n    const g = z * sigma + mean;\n    return float ? g : Math.round(g);\n  },\n\n  /**\n   * Interpolates linearly between two values. Returns the midway point (0.5) by default.\n   *\n   * @param start - The first value.\n   * @param stop - The second value.\n   * @param amount - The amount of interpolation, between 0.0 and 1.0.\n   * @returns The interpolated value.\n   */\n  interp(start: number, stop: number, amount: number = 0.5): number {\n    return amount * (stop - start) + start;\n  },\n\n  /**\n   * Re-maps a number from one range to another.\n   *\n   * @param value - The value to be converted.\n   * @param start1 - The lower bound of the current range.\n   * @param stop1 - The upper bound of the current range.\n   * @param start2 - The lower bound of the target range.\n   * @param stop2 - The upper bound of the target range.\n   * @param float - Set to false to return an integer.\n   * @returns The remapped number.\n   */\n  map(\n    value: number,\n    start1: number,\n    stop1: number,\n    start2: number,\n    stop2: number,\n    float: boolean = true\n  ): number {\n    const n = ((value - start1) / (stop1 - start1)) * (stop2 - start2) + start2;\n    return float ? n : Math.round(n);\n  },\n\n  /**\n   * Gets a random number based on the pareto power law distribution (80-20 rule).\n   *\n   * @param min - The minimum value to be returned.\n   * @param float - Set to false to return an integer.\n   * @returns The random pareto number.\n   */\n  pareto(min: number, float: boolean = true): number {\n    const n = 1.0 - Math.random();\n    const a = Math.log(5) / Math.log(4);\n    const p = min / Math.pow(n, 1.0 / a);\n    return float ? p : Math.round(p);\n  },\n\n  /**\n   * Gets a random number between a minimum and maximum value,\n   * or picks a random item from an array.\n   *\n   * Overloaded method signature.\n   */\n  /**\n   * Gets a random number between a minimum and maximum value,\n   * or picks a random item from an array.\n   */\n  random(arg1: number | any[], arg2?: number, arg3?: boolean): number | any {\n    if (Array.isArray(arg1)) {\n      const arr = arg1;\n      return arr[Math.round(Math.random() * (arr.length - 1))];\n    } else {\n      const min = arg1;\n      const max = arg2 !== undefined ? arg2 : 1;\n      const float = arg3 !== undefined ? arg3 : false;\n      const random = Math.random() * (max - min) + min;\n      return float || max - min <= 1 ? random : Math.round(random);\n    }\n  },\n} as const;\n","/**\n * An implementation of Ken Perlin's noise algorithm in 2D.\n *\n * With thanks to Joe Iddon. https://github.com/joeiddon/perlin\n */\n\ninterface Vector2D {\n  x: number;\n  y: number;\n}\n\ninterface NoiseCache {\n  [key: string]: number;\n}\n\ninterface GradientCache {\n  [key: string]: Vector2D;\n}\n\nexport class Noise {\n  private grad: GradientCache = {};\n  private cache: NoiseCache = {};\n\n  /**\n   * Get the noise value at the specified coordinates.\n   *\n   * @param x - The noise x coordinate.\n   * @param y - The noise y coordinate.\n   * @returns The noise value (float between -1 and 1).\n   */\n  get(x: number, y: number = 0): number {\n    const cacheKey = `${x},${y}`;\n\n    if (this.cache[cacheKey] !== undefined) {\n      return this.cache[cacheKey];\n    }\n\n    const xf = Math.floor(x);\n    const yf = Math.floor(y);\n\n    const tl = this.#gridDotProduct(x, y, xf, yf);\n    const tr = this.#gridDotProduct(x, y, xf + 1, yf);\n    const bl = this.#gridDotProduct(x, y, xf, yf + 1);\n    const br = this.#gridDotProduct(x, y, xf + 1, yf + 1);\n\n    const xt = this.#fade(x - xf, tl, tr);\n    const xb = this.#fade(x - xf, bl, br);\n    const v = this.#fade(y - yf, xt, xb);\n\n    this.cache[cacheKey] = v;\n\n    return v;\n  }\n\n  /**\n   * Clear the noise cache.\n   * Useful if you want to free memory or reset cached values.\n   */\n  clearCache(): void {\n    this.cache = {};\n  }\n\n  /**\n   * Clear the gradient cache.\n   * This will generate new random gradients on subsequent get() calls.\n   */\n  clearGradients(): void {\n    this.grad = {};\n  }\n\n  /**\n   * Precompute gradients for a range of coordinates.\n   * Can improve performance if you know the coordinate range in advance.\n   *\n   * @param xMin - Minimum x coordinate\n   * @param xMax - Maximum x coordinate\n   * @param yMin - Minimum y coordinate\n   * @param yMax - Maximum y coordinate\n   */\n  precomputeGradients(\n    xMin: number,\n    xMax: number,\n    yMin: number,\n    yMax: number\n  ): void {\n    const xStart = Math.floor(xMin);\n    const xEnd = Math.ceil(xMax);\n    const yStart = Math.floor(yMin);\n    const yEnd = Math.ceil(yMax);\n\n    for (let x = xStart; x <= xEnd; x++) {\n      for (let y = yStart; y <= yEnd; y++) {\n        const key = `${x},${y}`;\n        if (!this.grad[key]) {\n          const th = Math.random() * 2 * Math.PI;\n          this.grad[key] = {\n            x: Math.cos(th),\n            y: Math.sin(th),\n          };\n        }\n      }\n    }\n  }\n\n  #gridDotProduct(x: number, y: number, vx: number, vy: number): number {\n    const dVec: Vector2D = { x: x - vx, y: y - vy };\n    const gradKey = `${vx},${vy}`;\n\n    let gVec: Vector2D;\n\n    if (this.grad[gradKey]) {\n      gVec = this.grad[gradKey];\n    } else {\n      const th = Math.random() * 2 * Math.PI;\n      gVec = {\n        x: Math.cos(th),\n        y: Math.sin(th),\n      };\n      this.grad[gradKey] = gVec;\n    }\n\n    return dVec.x * gVec.x + dVec.y * gVec.y;\n  }\n\n  #fade(x: number, a: number, b: number): number {\n    // Smoothstep function: 6x^5 - 15x^4 + 10x^3\n    const s = x * x * x * (x * (x * 6 - 15) + 10);\n    return a + s * (b - a);\n  }\n}\n"],"names":["$7f477626dd9a6bc7$export$6db80416c61d51ca","cursorX","cursorY","child","constructor","element","namespace","this","document","createElementNS","isValid","nodeName","setAttribute","addEventListener","type","callback","options","addTo","node","appendChild","animate","keyframes","content","text","innerHTML","create","defs","defsCheck","createCurve","points","curveFactor","path","flattened","flat","pathData","i","length","x0","y0","x1","y1","x2","y2","set","d","stroke","fill","createFilter","id","isMainSVG","filter","x","y","width","height","filterUnits","color_interpolation_filters","createGradient","colours","rotation","gradient","gradientTransform","stop_color","offset","createPattern","pattern","patternUnits","delete","remove","get","attribute","getAttribute","getCentre","bbox","getBBox","moveTo","c","t","createTransform","setTranslate","addTransform","rotate","angle","cx","cy","originX","originY","setRotate","save","name","prompt","a","createElement","download","data","outerHTML","file","Blob","href","URL","createObjectURL","click","revokeObjectURL","scale","sx","sy","t1","t2","scaleY","setScale","attributes","key","value","Object","entries","prop","replace","String","trackCursor","point","DOMPoint","event","style","touchAction","e","clientX","clientY","ctm","getScreenCTM","matrixTransform","inverse","Math","ceil","transform","baseVal","appendItem","createSVGTransform","existingDefs","querySelector","prepend","Error","prototype","toString","call","toLowerCase","$5c08bac846c93e34$export$dde7b1cd7af1d184","chance","n1","n2","undefined","random","constrain","num","min","max","dist","b","sqrt","gaussian","mean","sigma","float","u","v","g","cos","PI","log","round","interp","start","stop","amount","map","start1","stop1","start2","stop2","n","pareto","p","pow","arg1","arg2","arg3","Array","isArray","arr","$5202592fa2efc382$export$484d33a0500a4ce1","grad","cache","cacheKey","xf","floor","yf","tl","gridDotProduct","tr","bl","br","xt","fade","xb","clearCache","clearGradients","precomputeGradients","xMin","xMax","yMin","yMax","xStart","xEnd","yStart","yEnd","th","sin","vx","vy","dVec","gradKey","gVec"],"version":3,"file":"svjs.min.js.map"}